<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="atributos" language="groovy" pageWidth="469" pageHeight="792" columnWidth="469" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="4b66177b-d550-4333-99fb-12fb7989d6ef">
	<property name="ireport.zoom" value="1.7715610000000013"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="p_entidadElementoId" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["/home/lorena/git/AplicacionTTB064/src/main/webapp/resources/ireport/elementos/"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select * from Atributo where EntidadElementoId = $P{p_entidadElementoId};]]>
	</queryString>
	<field name="id" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombre" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="descripcion" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="obligatorio" class="java.lang.Boolean">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="longitud" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="formatoArchivo" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="tamanioArchivo" class="java.lang.Float">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="UnidadTamanioid" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="EntidadElementoid" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="TipoDatoid" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="otroTipoDato" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="v_descripcionTipo" class="java.lang.String">
		<variableExpression><![CDATA[$F{TipoDatoid}.equals( 1 ) ?
"Es una frase o enunciado de " + $F{longitud} + " caracteres como máximo"
: $F{TipoDatoid}.equals( 2 ) ?
"Es un número con decimales de " + $F{longitud} + " dígitos como máximo (tomando en cuenta los decimales)"
: $F{TipoDatoid}.equals( 3 ) ?
"Es un número entero de " + $F{longitud} + " dígitos como máximo"
: $F{TipoDatoid}.equals( 4 ) ?
"Es un atributo que puede tomar el valor de falso o verdadero"
: $F{TipoDatoid}.equals( 5 ) ?
"Es una fecha"
: $F{TipoDatoid}.equals( 6 ) ?
"Es un documento digital en formato " + $F{formatoArchivo} + " de " + $F{tamanioArchivo} + " " + $V{v_abreviaturaUnidadTamanio}
: $F{TipoDatoid}.equals( 7 ) ?
"Es un atributo de tipo " + $F{otroTipoDato}
: "Error"]]></variableExpression>
	</variable>
	<variable name="v_descripcionObligatorio" class="java.lang.String">
		<variableExpression><![CDATA[$F{obligatorio} ?
"y es un dato obligatorio."
: "y es un dato opcional."]]></variableExpression>
	</variable>
	<variable name="v_abreviaturaUnidadTamanio" class="java.lang.String"/>
	<title>
		<band height="25" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="5" width="100" height="20" uuid="6644b008-944a-43af-8981-0660fba03c81"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Atributos]]></text>
			</staticText>
		</band>
	</title>
	<detail>
		<band height="24" splitType="Stretch">
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" stretchType="RelativeToBandHeight" x="0" y="0" width="469" height="19" uuid="d2b9a2c8-ccbc-45f1-9b3e-914e4c37e2ae"/>
				<textElement textAlignment="Justified" markup="styled"/>
				<textFieldExpression><![CDATA[$F{nombre} + ". " + $F{descripcion} + " " + $V{v_descripcionTipo} + " " + $V{v_descripcionObligatorio}]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="0" y="3" width="384" height="21" uuid="8e6aefda-ff33-4bd3-8f95-26214dc843bc"/>
				<subreportParameter name="p_unidadTamanioId">
					<subreportParameterExpression><![CDATA[$F{UnidadTamanioid}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<returnValue subreportVariable="v_abreviaturaUnidad" toVariable="v_abreviaturaUnidadTamanio"/>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "unidadTamano.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
</jasperReport>
